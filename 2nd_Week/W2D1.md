# SQL

**Terminology**
- What is a database?
    - Somewhere you gather and store information in a structured way.
    - e.g. Excel spreadsheets, Google searches etc.

- We must be able to structure DB's with the right type of data so we can query it.

- DBMS = Data Base Management System
    - Allows a computer to perform database functions such as storing, retrieving, adding, deleting and modifying data (among other things).

- _Relational databases_ contain data related to one another. So a book review table can contain information such as 'author id' which we need a database containing Authors and their author id's to find them.


**Building DB's**
- Types of DB's:
    - Flat-file
        - Stores everything in one table (e.g. excel)
    - Relational
        - Ability to separate data into numerous tables
        - Linked through keys
    - Big Data
        - MongoDB, Vertica
        - Used for data analytics and business intelligence

**Relational databases**
- Types:  
[Explanation](https://fmhelp.filemaker.com/help/18/fmp/en/index.html#page/FMP_Help%2Fmany-to-many-relationships.html%23)
    - One-to-one
        - Not used often.
        - In a one-to-one relationship, one record in a table is associated with one and only one record in another table. For example, in a school database, each student has only one student ID, and each student ID is assigned to only one person.

        ![One-to-one](images/one-to-one.png)

    - One-to-many
        - In this example the primary key field in the Customers table, Customer ID, is designed to contain unique values. The foreign key field in the Orders table, Customer ID, is designed to allow multiple instances of the same value.

        ![One-to-many](images/one-to-many.png)

    - Many-to-many
        - The following example includes a Students table, which contains a record for each student, and a Classes table, which contains a record for each class. A join table, Enrollments, creates two one-to-many relationshipsâ€”one between each of the two tables.

        ![Many-to-many](images/many-to-many.png)

        ![Filipe example](images/mtm.png)

- The diagrams are called ERD/ER diagrams (entity relationship diagrams).

    ![Example given by Filipe](images/ex.png)

- Primary key:
    - The unique identifier that identifies each record in the table.
    - Tables *should* have a Primary key.
    - Can be an already unique number (e.g. NI number) or can be generated by the DBMS.
    - THe DBMS will enforce the uniqueness of the Primary Key, not allowing repeated records to exist in the table.

    - Constraints:
        - PK's should be unique and entries can't be NULL.
        - Value must never change.
        - Each table must have a maximum of one PK.

    - Two types of primary keys:
        1. Simple
        2. Composite
            - Combines two or more fields to create a primary key

        ![composite key example](images/ex2.png)

- Foreign key:
    - It's a primary key that exists in a secondary table. It builds the relationship to the primary table.
    - FK's ensure that the row in table A corresponds to the correct row in table B.
    - The constraint is used to prevent actions that would destroy links between tables.
    - No uniqueness -- a table can have multiple FK's.
    - Prevents invalid data from being inserted into the foreign key column, because it has to be one of the values contained in the table it points to.

        ![example of a FK](images/ex3.png)

        ![example 2](images/ex4.png)


**Database tools**
- Examples:
    - Microsoft Access
    - SQL server
    - PostgreSQL
    - SQLite
    - MySQL
    - Redis
    - mongoDB
    - Oracle

- DML, DDL, DCL and TCL
    - 




---
**Used:**
- [Relational databases pictures](https://fmhelp.filemaker.com/help/18/fmp/en/index.html#page/FMP_Help%2Frelationships.html%23)